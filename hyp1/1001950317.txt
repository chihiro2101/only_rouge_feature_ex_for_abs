scott had taken a risk by marching inland from the port of veracruz , going beyond his supply lines he fought a battle of cerro gordo , but encountered virtually no resistance in capturing mexico 's second-largest city , puebla scott avoided the direct route from puebla to mexico city because the road was heavily defended at el peñon the mexican defenders blocked the route to the capital at hacienda of san antonio , with marshes to their north and a lava field to the south , known as the pedregal general gideon johnson pillow 's division cut a road for artillery through the pedregal to engage the entrenched mexican forces under general gabriel valencia at contreras on 20 august on september 8 , 1847 , in the costly battle of molino del rey , u.s forces had managed to drive the mexicans from their positions near the base of chapultepec castle guarding mexico city from the west , but army engineers were still interested in the southern causeways to the city , 1974 , the mexican war , 1846–1848 , new york : macmillan , general scott held a council of war with his generals and engineers on september 11 scott was in favor of attacking chapultepec , and only general david e general lopez de santa anna was in command of the army at mexico city , and understood that chapultepec castle was an important position for the defense of the city the castle sat atop a 200-ft-tall hill , which was used as the mexican military academy he did not have enough troops to effectively defend both the southern causeways into mexico city and chapultepec castle , at a distance from the capital at chapultepec , general nicolás bravo had fewer than 1,000 men ( 832 : total including 250 : 10th infantry , 115 : querétaro battalion , 277 : mina battalion , 211 : union battalion , 27 : toluca battalion and 42 : la patria battalion with seven guns ( gen and one howitzer ) to hold the hill , including 200 cadets , some as young as 13 years old also defending the castle was the batallón de san blas under the command of lieutenant colonel felipe xicoténcatl , a hero of the battle , along with six cadets who died defending the castle thinking that the attack would come from the south , santa anna devoted preparation time and troops there , both before and during the bombardment chapultepec castle was not built as a fortress but as a luxury residence , later converted to the military academy destruction of the walls , sandbags , and other defenses was demoralizing for many defenders , and some began abandoning their positions fire in the flat land below the hill , and they could not reach the hill to help the defenders there during the bombardment santa anna consulted with nicolás bravo , confessing to him that many of his demoralized troops were also likely melt away if sent into a situation that would have high casualties the first party consisted of captain samuel mackenzie 's 256 men and gideon pillow 's division , who would advance from the molino east up the hill santa anna watched the americans take chapultepec , while an aide exclaimed , '' let the mexican flag never be touched by a foreign enemy '' according to legend , the last of the six , juan escutia , grabbed the mexican flag , wrapped it around himself , and jumped off the castle point to prevent the flag from falling into enemy hands general quitman quickly gathered the troops in chapultepec , except the 15th infantry , who guarded the castle and prisoners , and designed as a feint , headed down the belén causeway , stopping at the belen garita by 6 pm , worth had broken through the gate , and the defenders scattered , many retreating into the ciudadela , sweeping santa anna along with them marine tradition maintains that the red stripe is worn on the trousers of the blue dress uniform , commonly known as the blood stripe , because a large number of the marine ncos and officers of the detachment died while storming the castle of chapultepec in 1847 , though iterations of the stripe antedate the war in mexico , the battle has a complicated place in historical memory , since the capture of chapultepec led to the fall of mexico city to the invaders file : battle of chapultepec.jpg a painting of the american assault on the chapultapec castle file : the battle of chapultepec ( storming of chapultepec ) by james walker.jpg battle of chapultepec by james walker , 1857 file : chapultepec currier.jpg attack on the castle chapultepec file : chapultepec1.jpg storming of chapultepec in mexico file : chapultepec.jpg attack on chapultepec , sept 